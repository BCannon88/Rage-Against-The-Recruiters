<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./partials/head'); %>
    <title>Document</title>
</head>
<body>
    <%- include("./partials/header"); %>

    <main class="row">
        <nav class="col-12 col-md-3">
            <h3>Categories:</h3>
            <ul>
                <% categories.forEach(category => { %>
                    <% var catHref = "#catId" + category.categoryid_pk; %>
                    <li>                 
                        <a  href=<%= catHref %> ><%= category.category %></a>
                    </li>
                <% }); %>   
            </ul>
        </nav>
        
        <div class="col-12 col-md-9">
            <form id="submit-form">
                <% for (i = 1; i < 8; i++) { %>
                    <% const catQuestions = categories.filter(category => category.categoryid_pk === i); %>
                    <% if (catQuestions) { %>
                        <% const catId = "catId" + catQuestions[0].categoryid_pk; %>
                        <h4 id=<%= catId %> ><%= catQuestions[0].category %></h4>
                        <% catQuestions.forEach(question => { %>
                            <% var idString = question.Questions.questionid_pk.toString(); %>
                            <input type="checkbox" id=<%= idString %> >
                            <label for=<%= idString %> ><%= question.Questions.question_text %> </label>
                            <p>Question type: <%= question.Questions.question_type %></p>
                        <% }); %>
                    <% } %>
                <% } %>
            </form>

                        
            
            <% switch (question.question_type) { %>
                            <% case 'integer': %>
                                <% const maxId = "max" + idString; %>
                                <% const minId = "min" + idString; %>
    
                                <label for=<%= maxId %> >Maximum value: </label>
                                <input type="number" id=<%= maxId %> name=<%= maxId %> >
    
                                <label for=<%= minId %> >Minimum value: </label>
                                <input type="number" id=<%= minId %> name=<%= minId %> >
                            <% break; %>
                            <% case 'boolean': %>
                                <% const boolName = "bool" + idString; %>
                                
                            <% break; %>
                        <% } %>
                    

                   
                
                <button>Submit</button>

        </div>
    </main>
    
    <%- include("./partials/footer"); %>
</body>
</html>